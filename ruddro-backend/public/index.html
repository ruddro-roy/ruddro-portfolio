<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Mission Control ‚Äì Real‚ÄëTime Situational Awareness</title>

    <!-- Cesium & satellite.js -->
    <link
      href="https://unpkg.com/cesium@latest/Build/Cesium/Widgets/widgets.css"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/cesium@latest/Build/Cesium/Cesium.js"></script>
    <script src="https://unpkg.com/satellite.js@5/dist/satellite.min.js"></script>

    <!-- Inline styles for a simple layout.  Feel free to extract into a
         separate stylesheet if you prefer. -->
    <style>
      html,
      body,
      #cesiumContainer {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        background: #222;
        color: #ddd;
        font-family: system-ui;
      }
      #sidebar {
        position: absolute;
        right: 0;
        top: 0;
        width: 360px;
        max-width: 90%;
        height: 100%;
        background: #111;
        border-left: 1px solid #333;
        overflow: auto;
        padding: 1rem;
        transition: transform 0.3s ease;
        transform: translateX(0);
      }
      #sidebar.hide {
        transform: translateX(100%);
      }
      .info-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.2rem 0.8rem;
      }
      .info-item > .label {
        color: #888;
        font-size: 0.75rem;
        display: block;
      }
      .placeholder-text {
        text-align: center;
        color: #777;
        margin-top: 2rem;
      }
      #loadingIndicator {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        color: #ddd;
      }
      .spinner {
        width: 36px;
        height: 36px;
        border: 4px solid #444;
        border-top-color: #aaa;
        border-radius: 50%;
        margin: 0 auto 1rem;
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }
      #controlBar {
        position: absolute;
        top: 1rem;
        left: 1rem;
        z-index: 10;
      }
      button {
        margin: 0 0.25rem;
        padding: 0.25rem 0.5rem;
        background: #333;
        border: 1px solid #555;
        color: #ddd;
        cursor: pointer;
      }
      input,
      button {
        font-family: inherit;
        font-size: 0.9rem;
      }
      input[type='search'] {
        width: 100%;
        padding: 0.4rem;
        border: 1px solid #555;
        background: #222;
        color: #ddd;
      }
    </style>
  </head>

  <body>
    <!-- The Cesium canvas fills the left portion of the page.  It will be
         initialised by app.js after the Cesium Ion token is injected via
         config.js. -->
    <div id="cesiumContainer"></div>

    <!-- Control buttons for theme toggle, camera reset and sidebar toggle -->
    <div id="controlBar">
      <button id="toggleThemeBtn">üåô/‚òÄÔ∏è</button>
      <button id="resetViewBtn">Reset View</button>
      <button id="togglePanelBtn">‚ò∞ Panel</button>
    </div>

    <!-- Sidebar containing mission info and satellite details -->
    <aside id="sidebar" class="hide">
      <h1 style="color: #2f6bff; margin-top: 0">Mission Control</h1>
      <p>Real‚Äëtime Situational Awareness</p>

      <h3>SATELLITE SEARCH</h3>
      <input list="satList" id="searchBox" type="search" placeholder="Enter satellite name‚Ä¶" />
      <datalist id="satList"></datalist>

      <div id="infoPanel" class="placeholder-text">
        <p>No satellite selected.</p>
        <span>Select one from the globe or search.</span>
      </div>
    </aside>

    <!-- Loading overlay shown while TLE data and Cesium are initialising -->
    <div id="loadingIndicator">
      <div class="spinner"></div>
      <p>Loading orbital data‚Ä¶</p>
    </div>

    <!-- Config script: exposes window.CESIUM_ION_TOKEN = "...".  This file is
         generated by server.js on each request and must be loaded before
         app.js so that the token is available. -->
    <script src="config.js"></script>
    <!-- Main application logic.  This module initialises Cesium once the
         DOM is ready, fetches TLE data and handles interactions. -->
    <script defer src="app.js"></script>
  </body>
</html>